# 経費管理システム

## 概要
このシステムは、経費の管理と分析を効率化するためのツール群です。PDF形式の領収書や納品書から自動的にJSONデータを生成し、視覚的に確認・編集できるGUIインターフェースを提供します。

## 主な機能
1. **PDFからのJSON自動生成**
   - Gemini APIを使用して領収書や納品書から自動的にJSONデータを抽出
   - 金額、日付、商品情報などを構造化されたデータとして保存

2. **JSONデータの表示と編集**
   - タブ形式のGUIインターフェースでJSONデータを表示
   - フォルダごとに分類された表示
   - 各項目の編集機能
   - コピー機能付きのデータ表示

3. **PDFファイルとの連携**
   - JSONデータに対応するPDFファイルを直接表示
   - PDFファイルの自動検出とJSON生成

## セットアップ
1. 必要なパッケージのインストール:
```bash
pip install -r requirements.txt
```

2. Gemini APIキーの設定:
   - 環境変数 `GeminiApiKey` にAPIキーを設定
   - または、`display_json_data_gui.pyw` 内の `GEMINI_API_KEY` 変数に直接設定

## 使い方
1. **JSONデータの表示**
   - `display_json_data_gui.pyw` を実行
   - フォルダごとに分類されたタブでJSONデータを確認
   - 各項目の編集やコピーが可能

2. **PDFからのJSON生成**
   - PDFファイルを各フォルダ内の `pdf` サブフォルダに配置
   - システムが自動的にJSONデータを生成
   - 生成されたJSONは同じフォルダ内の `json` サブフォルダに保存

3. **データの編集**
   - 各項目の編集ボタン（📝）をクリック
   - JSONエディタでデータを直接編集
   - 変更は自動的に保存

## フォルダ構造
```
project/
├── 実験実習費/              # 経費種別ごとのフォルダ
│   ├── pdf/                 # PDFファイルを格納
│   │   └── 20250414141658.pdf
│   └── json/                # 生成されたJSONファイルを格納
│       └── 20250414141658.json
├── 基盤研究費/                    # 別の経費種別フォルダ
│   ├── pdf/
│   └── json/
├── display_json_data_gui.pyw  # メインのGUIアプリケーション
└── requirements.txt         # 必要なパッケージの一覧
```

## 注意事項
- Gemini APIキーが設定されていない場合、PDFからのJSON自動生成機能は無効になります
- PDFファイルは各フォルダ内の `pdf` サブフォルダに配置してください
- 生成されたJSONファイルは同じフォルダ内の `json` サブフォルダに自動的に保存されます

## 更新履歴
- 2024/04/14: タブの視認性を改善
- 2024/04/14: Gemini APIを使用したPDFからのJSON自動生成機能を追加
- 2024/04/14: GUIインターフェースの実装
